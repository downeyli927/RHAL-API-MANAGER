"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[9338],{8060:(e,t,_)=>{_.r(t),_.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>o,frontMatter:()=>i,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"rhal/RHAL_CRYPTO","title":"RHAL_CRYPTO","description":"RHAL_CRYPTO api","source":"@site/docs/rhal/RHAL_CRYPTO.mdx","sourceDirName":"rhal","slug":"/rhal/RHAL_CRYPTO","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_CRYPTO","draft":false,"unlisted":false,"editUrl":"https://github.com/downeyli927/RHAL-API-MANAGER/tree/main/docs/rhal/RHAL_CRYPTO.mdx","tags":[],"version":"current","sidebarPosition":17,"frontMatter":{"sidebar_position":17},"sidebar":"tutorialSidebar","previous":{"title":"RHAL_CRM","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_CRM"},"next":{"title":"RHAL_DDCCI","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_DDCCI"}}');var r=_(4848),a=_(8453);const i={sidebar_position:17},s="RHAL_CRYPTO",d={},l=[{value:"RHAL_CRYPTO_WriteKey",id:"rhal_crypto_writekey",level:2},{value:"RHAL_CRYPTO_CertificateKey",id:"rhal_crypto_certificatekey",level:2},{value:"RHAL_CRYPTO_ApplyKey",id:"rhal_crypto_applykey",level:2},{value:"RHAL_CYRPTO_QUERY_KEY",id:"rhal_cyrpto_query_key",level:2},{value:"RHAL_CRYPTO_Get_Unique_Id",id:"rhal_crypto_get_unique_id",level:2},{value:"RHAL_CRYPTO_Set_PMode",id:"rhal_crypto_set_pmode",level:2},{value:"RHAL_CRYPTO_Set_ReleaseMode",id:"rhal_crypto_set_releasemode",level:2},{value:"RHAL_CRYPTO_Get_CommonKey",id:"rhal_crypto_get_commonkey",level:2},{value:"RHAL_CRYPTO_Verify_Attestation_ID",id:"rhal_crypto_verify_attestation_id",level:2},{value:"RHAL_CRYPTO_CheckKoPair",id:"rhal_crypto_checkkopair",level:2}];function c(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components},{ParamTable:_}=t;return _||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ParamTable",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"rhal_crypto",children:"RHAL_CRYPTO"})}),"\n",(0,r.jsx)(t.p,{children:"RHAL_CRYPTO api"}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_writekey",children:"RHAL_CRYPTO_WriteKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_WriteKey(RHAL_TRUSTZONE_KEYS_TYPE_T en_keys_type, UINT8*pu8_keys_data, UINT32 u32_keys_data_len);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Write chinaDRM/playready /Widevine key to RPMB or HDCP2.2 key to factory"}),"\n",(0,r.jsx)(_,{items:[{name:"en_keys_type",type:"RHAL_TRUSTZONE_KEYS_TYPE_T",desc:"input key type"},{name:"pu8_keys_data",type:"UINT8*",desc:(0,r.jsx)(r.Fragment,{children:"input key data."})},{name:"u32_keys_data_len",type:"UINT32",desc:(0,r.jsx)(r.Fragment,{children:"input key len."})}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_certificatekey",children:"RHAL_CRYPTO_CertificateKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_CertificateKey(RHAL_TRUSTZONE_KEYS_T*pst_keys_data, RHAL_TRUSTZONE_KEY_CERTIFICATE_T*pen_certificate_result);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Use for verify ChinaDRM key"}),"\n",(0,r.jsx)(_,{items:[{name:"pst_keys_data",type:"RHAL_TRUSTZONE_KEYS_T*",desc:"input key info"},{name:"pen_certificate_result",type:"RHAL_TRUSTZONE_KEY_CERTIFICATE_T*",desc:(0,r.jsx)(r.Fragment,{children:"output info, get device ID and key length."})}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_applykey",children:"RHAL_CRYPTO_ApplyKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_ApplyKey(RHAL_TRUSTZONE_KEYS_TYPE_T en_keys_type);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Use for load and Apply key"}),"\n",(0,r.jsx)(_,{items:[{name:"en_keys_type",type:"RHAL_TRUSTZONE_KEYS_TYPE_T",desc:"input key type"}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_cyrpto_query_key",children:"RHAL_CYRPTO_QUERY_KEY"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CYRPTO_QUERY_KEY(RHAL_TRUSTZONE_KEYS_TYPE_T en_keys_type, UINT8*pu8_keys_ID, UINT32*u32_keys_ID_len);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Use for query key has been burn or not"}),"\n",(0,r.jsx)(_,{items:[{name:"en_keys_type",type:"RHAL_TRUSTZONE_KEYS_TYPE_T",desc:"output key type"},{name:"pu8_keys_ID",type:"UINT8*",desc:(0,r.jsx)(r.Fragment,{children:"output key ID."})},{name:"u32_keys_ID_len",type:"UINT32*",desc:(0,r.jsx)(r.Fragment,{children:"output info, ID length."})}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_get_unique_id",children:"RHAL_CRYPTO_Get_Unique_Id"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_Get_Unique_Id(UINT8*pBuffer, UINT32*pSize);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Use for get unique id key"}),"\n",(0,r.jsx)(_,{items:[{name:"pBuffer",type:"UINT8*",desc:"output buffer, get unique id value"},{name:"pSize",type:"UINT32*",desc:(0,r.jsx)(r.Fragment,{children:"output size, unique id len."})}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_set_pmode",children:"RHAL_CRYPTO_Set_PMode"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_Set_PMode(UINT32 mode);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Set mode to keymint ta"}),"\n",(0,r.jsx)(_,{items:[{name:"mode",type:"UINT32",desc:"mode: 1 as pmode, 0 as not pmode"}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_set_releasemode",children:"RHAL_CRYPTO_Set_ReleaseMode"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_Set_ReleaseMode();\n"})}),"\n",(0,r.jsx)(t.p,{children:"Set system will never enter factory mode again"}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_get_commonkey",children:"RHAL_CRYPTO_Get_CommonKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_Get_CommonKey(int*mode);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get optee use common key or device key"}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_verify_attestation_id",children:"RHAL_CRYPTO_Verify_Attestation_ID"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_Verify_Attestation_ID(UINT8*id_data, UINT32 id_data_len, RHAL_TRUSTZONE_ATTESTATION_ID_TYPE_T id_type);\n"})}),"\n",(0,r.jsx)(t.p,{children:"Use for verify attestation id"}),"\n",(0,r.jsx)(_,{items:[{name:"id_data",type:"UINT8*",desc:"input attestation id"},{name:"id_data_len",type:"UINT32",desc:(0,r.jsx)(r.Fragment,{children:"input attestation id length."})},{name:"id_type",type:"RHAL_TRUSTZONE_ATTESTATION_ID_TYPE_T",desc:(0,r.jsx)(r.Fragment,{children:"input attestation id type."})}]}),"\n",(0,r.jsx)(t.h2,{id:"rhal_crypto_checkkopair",children:"RHAL_CRYPTO_CheckKoPair"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_CRYPTO_CheckKoPair();\n"})}),"\n",(0,r.jsx)(t.p,{children:"check if the ko pair or not in this IC"})]})}function o(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,_)=>{_.d(t,{R:()=>i,x:()=>s});var n=_(6540);const r={},a=n.createContext(r);function i(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);