"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[590],{8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>s});var a=r(6540);const t={},d=a.createContext(t);function i(e){const n=a.useContext(d);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(d.Provider,{value:n},e.children)}},8494:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>_,contentTitle:()=>s,default:()=>o,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"rhal/RHAL_VENC","title":"RHAL_VENC","description":"RHAL_VENC api","source":"@site/docs/rhal/RHAL_VENC.mdx","sourceDirName":"rhal","slug":"/rhal/RHAL_VENC","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_VENC","draft":false,"unlisted":false,"editUrl":"https://github.com/downeyli927/RHAL-API-MANAGER/tree/main/docs/rhal/RHAL_VENC.mdx","tags":[],"version":"current","sidebarPosition":78,"frontMatter":{"sidebar_position":78},"sidebar":"tutorialSidebar","previous":{"title":"RHAL_VDECDEBUG","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_VDECDEBUG"},"next":{"title":"RHAL_VFE","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_VFE"}}');var t=r(4848),d=r(8453);const i={sidebar_position:78},s="RHAL_VENC",_={},l=[{value:"Constants, macros, and type definitions",id:"constants-macros-and-type-definitions",level:2},{value:"pfnVENCDataHandlingCB",id:"pfnvencdatahandlingcb",level:3},{value:"Enums and struct definitions",id:"enums-and-struct-definitions",level:2},{value:"VENC_MSG_TYPE_T",id:"venc_msg_type_t",level:3},{value:"VENC_INPUT_TYPE_T",id:"venc_input_type_t",level:3},{value:"VENC_CODEC_T",id:"venc_codec_t",level:3},{value:"VENC_FRAMERATE_T",id:"venc_framerate_t",level:3},{value:"VENC_PROFILE_T",id:"venc_profile_t",level:3},{value:"VENC_PROFILELEVEL_T",id:"venc_profilelevel_t",level:3},{value:"VENC_RATECONTROL_T",id:"venc_ratecontrol_t",level:3},{value:"VENC_INFO_T",id:"venc_info_t",level:3},{value:"Function declarations and inline functions",id:"function-declarations-and-inline-functions",level:2},{value:"RHAL_VENC_Open",id:"rhal_venc_open",level:3},{value:"RHAL_VENC_Close",id:"rhal_venc_close",level:3},{value:"RHAL_VENC_Connect",id:"rhal_venc_connect",level:3},{value:"RHAL_VENC_Start",id:"rhal_venc_start",level:3},{value:"RHAL_VENC_Stop",id:"rhal_venc_stop",level:3},{value:"RHAL_VENC_SetParam",id:"rhal_venc_setparam",level:3},{value:"RHAL_VENC_GetParam",id:"rhal_venc_getparam",level:3},{value:"RHAL_VENC_RegisterEncoderCallback",id:"rhal_venc_registerencodercallback",level:3},{value:"RHAL_VENC_CopyData",id:"rhal_venc_copydata",level:3},{value:"RHAL_VENC_ReleaseData",id:"rhal_venc_releasedata",level:3},{value:"RHAL_VENC_GetThumbnail",id:"rhal_venc_getthumbnail",level:3},{value:"RHAL_VENC_DEBUG_Menu",id:"rhal_venc_debug_menu",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,d.R)(),...e.components},{ParamTable:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ParamTable",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"rhal_venc",children:"RHAL_VENC"})}),"\n",(0,t.jsx)(n.p,{children:"RHAL_VENC api"}),"\n",(0,t.jsx)(n.h2,{id:"constants-macros-and-type-definitions",children:"Constants, macros, and type definitions"}),"\n",(0,t.jsx)(n.h3,{id:"pfnvencdatahandlingcb",children:"pfnVENCDataHandlingCB"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief recoding data callback function Type\r\n */\r\ntypedef DTV_STATUS_T (*pfnVENCDataHandlingCB)(VENC_MSG_TYPE_T *pMsg);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"enums-and-struct-definitions",children:"Enums and struct definitions"}),"\n",(0,t.jsx)(n.h3,{id:"venc_msg_type_t",children:"VENC_MSG_TYPE_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief infomation of recored frame\r\n */\r\ntypedef struct VENC_MSG_TYPE\r\n{\r\n        UINT32        channel;        /**< Port Id */\r\n        UINT8        pictype;        /**< Picture Type IDC:1 I:2 P:4 B:8 */\r\n        UINT64        pts;                /**< PTS */\r\n        UINT8        *pData;                /**< pointer to Video Data */\r\n        UINT32        dataLen;        /**< Video Data Length */\r\n        UINT8        *pRStart;        /**< start pointer of buffer */\r\n        UINT8        *pREnd;                /**< end pointer of buffer */\r\n}VENC_MSG_TYPE_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_input_type_t",children:"VENC_INPUT_TYPE_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief recoding input source types\r\n */\r\ntypedef enum\r\n{\r\n        VENC_INPUT_MAIN = 0,/**< Main Video source */\r\n        VENC_INPUT_SUB,                /**< Sub Video source */\r\n        VENC_INPUT_EXT,                /**< Extra Video source */\r\n        VENC_INPUT_NUM\r\n}VENC_INPUT_TYPE_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_codec_t",children:"VENC_CODEC_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief venc codec formats\r\n */\r\ntypedef enum\r\n{\r\n        VENC_CODEC_H264 = 0,/**< H264 format */\r\n        VENC_CODEC_VP8                /**< VP8 format */\r\n}VENC_CODEC_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_framerate_t",children:"VENC_FRAMERATE_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief recoding frame rate\r\n */\r\ntypedef enum\r\n{\r\n        VENC_FRAMERATE_AUTO = 0,        // Optimal frame rate for this Encoder. (60p -> 30p, 50p -> 25p...)\r\n        VENC_FRAMERATE_ASIS,        // Use original framerate\r\n        VENC_FRAMERATE_60P,        //60Hz progressive (reserved not used)\r\n        VENC_FRAMERATE_60I,        //60Hz interlaced (reserved not used)\r\n        VENC_FRAMERATE_50P,        //50Hz progressive (reserved not used)\r\n        VENC_FRAMERATE_50I,        //50Hz interlaced (reserved not used)\r\n        VENC_FRAMERATE_30P,        //30Hz progressive\r\n        VENC_FRAMERATE_30I,        //30Hz interlaced (reserved not used)\r\n        VENC_FRAMERATE_25P,        //25Hz progressive (reserved not used)\r\n        VENC_FRAMERATE_25I,        //25Hz interlaced (reserved not used)\r\n        VENC_FRAMERATE_24P,        //24Hz progressive (reserved not used)\r\n        VENC_FRAMERATE_24I,        //24Hz interlaced (reserved not used)\r\n        VENC_FRAMERATE_INVALID\r\n}VENC_FRAMERATE_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_profile_t",children:"VENC_PROFILE_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief venc profiles\r\n */\r\ntypedef enum\r\n{\r\n        VENC_PROFILE_BASE = 0,\r\n        VENC_PROFILE_MAIN,\r\n        VENC_PROFILE_EXT,\r\n        VENC_PROFILE_HIGH\r\n}VENC_PROFILE_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_profilelevel_t",children:"VENC_PROFILELEVEL_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief profile levels\r\n */\r\ntypedef enum\r\n{\r\n        VENC_PROFILELEVEL_30 = 0,\r\n        VENC_PROFILELEVEL_31,\r\n        VENC_PROFILELEVEL_40,\r\n        VENC_PROFILELEVEL_41\r\n}VENC_PROFILELEVEL_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_ratecontrol_t",children:"VENC_RATECONTROL_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief Rate conotrol mode\r\n */\r\ntypedef enum {\r\n        VENC_RATECONTROL_VBR = 0,        /**< Variable Bit Rate (VBR) mode */\r\n        VENC_RATECONTROL_CBR = 1,        /**< Constant Bit Rate (CBR) mode */\r\n} VENC_RATECONTROL_T;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"venc_info_t",children:"VENC_INFO_T"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/**\r\n * @brief venc recoding parameter types\r\n */\r\ntypedef enum {\r\n        VENC_INFO_FRAMERATE = 0,\r\n        VENC_INFO_WIDTH,\r\n        VENC_INFO_HEIGHT,\r\n        VENC_INFO_ASPECTRATIOIDC,\r\n        VENC_INFO_SARWIDTH,\r\n        VENC_INFO_SARHEIGHT,\r\n        VENC_INFO_INPUT,\r\n        VENC_INFO_BITRATE,\r\n        VENC_INFO_PROFILE,\r\n        VENC_INFO_PROFILELEVEL,\r\n        VENC_INFO_CODEC,\r\n        VENC_INFO_RATECONTROL,\r\n        VENC_INFO_GOPLENGTH,\r\n        VENC_INFO_QP,\r\n    VENC_INFO_CAP_MODE,\r\n        VENC_INFO_NUM\r\n}VENC_INFO_T;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"function-declarations-and-inline-functions",children:"Function declarations and inline functions"}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_open",children:"RHAL_VENC_Open"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_Open(void);\n"})}),"\n",(0,t.jsx)(n.p,{children:"VENC Open for recoding"}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_close",children:"RHAL_VENC_Close"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_Close(void);\n"})}),"\n",(0,t.jsx)(n.p,{children:"VENC Finalizing after recoding"}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_connect",children:"RHAL_VENC_Connect"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_Connect(UINT8 port, VENC_INPUT_TYPE_T input);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Select Video source"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"input",type:"VENC_INPUT_TYPE_T",desc:"input source"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_start",children:"RHAL_VENC_Start"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_Start(UINT8 port);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Start Video Encoding"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_stop",children:"RHAL_VENC_Stop"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_Stop(UINT8 port);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Stop Video Encoding"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_setparam",children:"RHAL_VENC_SetParam"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_SetParam(UINT8 port, VENC_INFO_T info, SINT32 value);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Set Parameter"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"info",type:"VENC_INFO_T",desc:"type of info to set"},{name:"value",type:"SINT32",desc:"value to set"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_getparam",children:"RHAL_VENC_GetParam"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_GetParam(UINT8 port, VENC_INFO_T info, void *pValue);\n"})}),"\n",(0,t.jsx)(n.p,{children:"VENC Get infomation"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"info",type:"VENC_INFO_T",desc:"Type of info to set"},{name:"pValue",type:"void*",desc:"Pointer to set result value"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_registerencodercallback",children:"RHAL_VENC_RegisterEncoderCallback"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_RegisterEncoderCallback(UINT8 port, pfnVENCDataHandlingCB pfnCallBack);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Register Callback function for every frame"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"pfnCallBack",type:"pfnVENCDataHandlingCB",desc:"pointer of callback function"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_copydata",children:"RHAL_VENC_CopyData"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_CopyData(UINT8 port, UINT8 *pDest, UINT8 *pBufAddr, UINT32 datasize, UINT8 *pRStart, UINT8 *pREnd);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Release Encoded Data buffer"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"pDest",type:"UINT8*",desc:"Destination to Copy Data"},{name:"pBufAddr",type:"UINT8*",desc:"Encoded data start point"},{name:"datasize",type:"UINT32",desc:"Encoded data length"},{name:"pRStart",type:"UINT8*",desc:"Start point of RingBuffer"},{name:"pREnd",type:"UINT8*",desc:"End point of RingBuffer"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_releasedata",children:"RHAL_VENC_ReleaseData"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_ReleaseData(UINT8 port, UINT8 *pBufAddr,UINT32 datasize);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Release Encoded Data buffer"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"pBufAddr",type:"UINT8*",desc:"Encoded data start point"},{name:"datasize",type:"UINT32",desc:"Encoded data length"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_getthumbnail",children:"RHAL_VENC_GetThumbnail"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_VENC_GetThumbnail(UINT8 port, UINT32 width, UINT32 height, UINT8 *pBufAddr, UINT32 datasize);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get Thumbnail Data"}),"\n",(0,t.jsx)(r,{items:[{name:"port",type:"UINT8",desc:"port of video encoder(reserved)"},{name:"width",type:"UINT32",desc:"width of thumbnail"},{name:"height",type:"UINT32",desc:"height of thumbnail"},{name:"pBufAddr",type:"UINT8*",desc:"Pointer to save thumbnail data"},{name:"datasize",type:"UINT32",desc:"Thumbnail data length"}]}),"\n",(0,t.jsx)(n.h3,{id:"rhal_venc_debug_menu",children:"RHAL_VENC_DEBUG_Menu"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"void RHAL_VENC_DEBUG_Menu(void);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Serves as an interactive debug menu for the video encoder (VENC)."})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);