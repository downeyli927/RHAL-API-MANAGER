"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[9716],{5510:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>_,toc:()=>d});const _=JSON.parse('{"id":"rhal/RHAL_WDOG","title":"RHAL_WDOG","description":"RHAL_WDOG api","source":"@site/docs/rhal/RHAL_WDOG.mdx","sourceDirName":"rhal","slug":"/rhal/RHAL_WDOG","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_WDOG","draft":false,"unlisted":false,"editUrl":"https://github.com/downeyli927/RHAL-API-MANAGER/tree/main/docs/rhal/RHAL_WDOG.mdx","tags":[],"version":"current","sidebarPosition":94,"frontMatter":{"sidebar_position":94},"sidebar":"tutorialSidebar","previous":{"title":"RHAL_VT","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_VT"},"next":{"title":"RHAL_WOV","permalink":"/RHAL-API-MANAGER/docs/rhal/RHAL_WOV"}}');var a=n(4848),s=n(8453);const i={sidebar_position:94},r="RHAL_WDOG",o={},d=[{value:"Constants, macros, and type definitions",id:"constants-macros-and-type-definitions",level:2},{value:"Enums and struct definitions",id:"enums-and-struct-definitions",level:2},{value:"RHAL_WDOG_OPERATE_T",id:"rhal_wdog_operate_t",level:3},{value:"RHAL_WDOG_STATUS_T",id:"rhal_wdog_status_t",level:3},{value:"Function declarations and inline functions",id:"function-declarations-and-inline-functions",level:2},{value:"RHAL_WDOG_Operate",id:"rhal_wdog_operate",level:3},{value:"RHAL_WDOG_SetTimeout",id:"rhal_wdog_settimeout",level:3},{value:"RHAL_WDOG_GetTimeout",id:"rhal_wdog_gettimeout",level:3},{value:"RHAL_WDOG_SetPreTimeout",id:"rhal_wdog_setpretimeout",level:3},{value:"RHAL_WDOG_GetPreTimeout",id:"rhal_wdog_getpretimeout",level:3},{value:"RHAL_WDOG_GetTimeLeft",id:"rhal_wdog_gettimeleft",level:3},{value:"RHAL_WDOG_GetStatus",id:"rhal_wdog_getstatus",level:3},{value:"RHAL_WDOG_GetLastBootStatus",id:"rhal_wdog_getlastbootstatus",level:3},{value:"RHAL_SET_AP_WDOG_ON",id:"rhal_set_ap_wdog_on",level:3},{value:"RHAL_SET_AP_WDOG_OFF",id:"rhal_set_ap_wdog_off",level:3},{value:"RHAL_AP_WDOG_KEEPALIVE",id:"rhal_ap_wdog_keepalive",level:3},{value:"RHAL_AP_WDOG_SET_ID",id:"rhal_ap_wdog_set_id",level:3}];function l(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components},{ParamTable:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ParamTable",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"rhal_wdog",children:"RHAL_WDOG"})}),"\n",(0,a.jsx)(t.p,{children:"RHAL_WDOG api"}),"\n",(0,a.jsx)(t.h2,{id:"constants-macros-and-type-definitions",children:"Constants, macros, and type definitions"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"#ifndef BIT\r\n#define BIT(x)                          (1 <<x)\r\n#endif\r\n#define LAST_BOOT_REASON_SOFTWARE BIT(2)       //last boot reason is software-induced reset\r\n#define LAST_BOOT_REASON_BUTTION  BIT(3)       //last boot reason is reset button press\r\n#define LAST_BOOT_REASON_POWER    BIT(4)       //last boot reason is power cycle  \r\n#define LAST_BOOT_REASON_WATCHDOG BIT(5)       //last boot reason is watchdog expiration  \n"})}),"\n",(0,a.jsx)(t.h2,{id:"enums-and-struct-definitions",children:"Enums and struct definitions"}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_operate_t",children:"RHAL_WDOG_OPERATE_T"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"/*======================================================\r\n * Para : \r\n *        RHAL_WDOG_ON: Turn on the watchdog timer,and need AP kick watchdog periodically.\r\n *        RHAL_WDOG_OFF: Turn off the watchdog timer.\r\n *        RHAL_WDOG_PING: Kick watchdog. \r\n *        RHAL_WDOG_ON_WITH_KERNEL_AUTO_KICK: Turn on the watchdog timer,and kernel will kick watchdog by itself.\r\n * Note :\r\n          RHAL_WDOG_ON_WITH_KERNEL_AUTO_KICK can not used to monitor AP crash issue.\r\n ======================================================*/\r\ntypedef enum{\r\n    RHAL_WDOG_ON = 0,\r\n    RHAL_WDOG_OFF,\r\n    RHAL_WDOG_KICK,\r\n    RHAL_WDOG_ON_WITH_KERNEL_AUTO_KICK,\r\n    RHAL_WDOG_HW_RESET,\r\n    RHAL_WDOG_SW_RESET,\r\n    RHAL_AP_WDOG_ON,\r\n    RHAL_AP_WDOG_OFF,\r\n    RHAL_AP_WDOG_KICK,\r\n    RHAL_WDOG_OPERATE_MAX\r\n}RHAL_WDOG_OPERATE_T;\n"})}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_status_t",children:"RHAL_WDOG_STATUS_T"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"/*======================================================\r\n * Para : \r\n *        RHAL_WDOG_IS_ON_NEED_AP_KICK: watchdog is enabled. In this case need AP kick watchdog periodically.\r\n *        RHAL_WDOG_IS_OFF: watchdog is disabled.\r\n *        RHAL_WDOG_IS_ON_WITH_KERNEL_AUTO_KICK: watchdog is enabled. In this case kernel will kick watchdog by itself.\r\n ======================================================*/\r\ntypedef enum{\r\n    RHAL_WDOG_IS_ON_NEED_AP_KICK = 0,\r\n    RHAL_WDOG_IS_OFF,\r\n    RHAL_WDOG_IS_ON_WITH_KERNEL_AUTO_KICK,\r\n    RHAL_WDOG_STATUS_MAX\r\n}RHAL_WDOG_STATUS_T;\n"})}),"\n",(0,a.jsx)(t.h2,{id:"function-declarations-and-inline-functions",children:"Function declarations and inline functions"}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_operate",children:"RHAL_WDOG_Operate"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_Operate(RHAL_WDOG_OPERATE_T operate);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for enable/disable/kick watchdog"}),"\n",(0,a.jsx)(n,{items:[{name:"operate",type:"RHAL_WDOG_OPERATE_T",desc:"cmd used to operate watchdog"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_settimeout",children:"RHAL_WDOG_SetTimeout"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_SetTimeout(UINT32*p_timeout);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for set watchdog timeout value"}),"\n",(0,a.jsx)(n,{items:[{name:"p_timeout",type:"UINT32*",desc:"buff for timeout value"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_gettimeout",children:"RHAL_WDOG_GetTimeout"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_GetTimeout(UINT32*p_timeout);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for get watchdog timeout value"}),"\n",(0,a.jsx)(n,{items:[{name:"p_timeout",type:"UINT32*",desc:"buff for timeout value"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_setpretimeout",children:"RHAL_WDOG_SetPreTimeout"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_SetPreTimeout(UINT32*p_timeout);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for set watchdog NMI timeout value"}),"\n",(0,a.jsx)(n,{items:[{name:"p_timeout",type:"UINT32*",desc:"buff for timeout value"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_getpretimeout",children:"RHAL_WDOG_GetPreTimeout"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_GetPreTimeout(UINT32*p_timeout);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for get watchdog NMI timeout value"}),"\n",(0,a.jsx)(n,{items:[{name:"p_timeout",type:"UINT32*",desc:"buff for timeout value"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_gettimeleft",children:"RHAL_WDOG_GetTimeLeft"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_GetTimeLeft(UINT32*p_timeleft);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for get left time before watchdog timeout."}),"\n",(0,a.jsx)(n,{items:[{name:"p_timeleft",type:"UINT32*",desc:"buff for timeleft"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_getstatus",children:"RHAL_WDOG_GetStatus"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_GetStatus(RHAL_WDOG_STATUS_T*p_status);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for get watchdog status."}),"\n",(0,a.jsx)(n,{items:[{name:"p_status",type:"RHAL_WDOG_STATUS_T*",desc:"buff for watchdog status"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_wdog_getlastbootstatus",children:"RHAL_WDOG_GetLastBootStatus"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_WDOG_GetLastBootStatus(int*p_status);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use for get watchdog last boot status."}),"\n",(0,a.jsx)(n,{items:[{name:"p_status",type:"RHAL_WDOG_STATUS_T*",desc:"buff for watchdog last boot status"}]}),"\n",(0,a.jsx)(t.h3,{id:"rhal_set_ap_wdog_on",children:"RHAL_SET_AP_WDOG_ON"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_SET_AP_WDOG_ON(void);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use open ap watchdog."}),"\n",(0,a.jsx)(t.h3,{id:"rhal_set_ap_wdog_off",children:"RHAL_SET_AP_WDOG_OFF"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_SET_AP_WDOG_OFF(void);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use close ap watchdog."}),"\n",(0,a.jsx)(t.h3,{id:"rhal_ap_wdog_keepalive",children:"RHAL_AP_WDOG_KEEPALIVE"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"DTV_STATUS_T RHAL_AP_WDOG_KEEPALIVE(void);\n"})}),"\n",(0,a.jsx)(t.p,{children:"use kick ap watchdog."}),"\n",(0,a.jsx)(t.h3,{id:"rhal_ap_wdog_set_id",children:"RHAL_AP_WDOG_SET_ID"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"void RHAL_AP_WDOG_SET_ID(UINT32 ap_id);\n"})}),"\n",(0,a.jsx)(t.p,{children:"set ap id."}),"\n",(0,a.jsx)(n,{items:[{name:"ap_id",type:"UINT32",desc:"ap id"}]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var _=n(6540);const a={},s=_.createContext(a);function i(e){const t=_.useContext(s);return _.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),_.createElement(s.Provider,{value:t},e.children)}}}]);