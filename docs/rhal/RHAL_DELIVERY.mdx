---
sidebar_position: 19
---

# RHAL_DELIVERY

RHAL_DELIVERY api

##Function Declaration
### RHAL_DELIVERY_SetParam
```bash
DTV_STATUS_T RHAL_DELIVERY_SetParam(DELIVERY_PARAM_T param, UINT32 val);
```

##Function Declaration
### RHAL_DELIVERY_GetParam
```bash
DTV_STATUS_T RHAL_DELIVERY_GetParam(DELIVERY_PARAM_T param, UINT32*val);
```

##Function Declaration
### RHAL_DELIVERY_Initialize
```bash
DTV_STATUS_T RHAL_DELIVERY_Initialize(void);
```
Open delivery device fp

##Function Declaration
### RHAL_DELIVERY_Finalize
```bash
DTV_STATUS_T RHAL_DELIVERY_Finalize(void);
```
Close delivery device fp

##Function Declaration
### RHAL_DELIVERY_OpenChannel
```bash
DTV_STATUS_T RHAL_DELIVERY_OpenChannel(DELIVERY_CHANNEL_T ch, DELIVERY_MODE_T mode);
```
Open TS or TLV stream channel, (Note:TCL use 0 and 2) 
<ParamTable
  items={[
    { name: 'ch', type: 'DELIVERY_CHANNEL_T', desc: '0 -> DELIVERY_CH_A,1 -> DELIVERY_CH_B,2 -> DELIVERY_CH_C' },
    { name: 'mode', type: 'DELIVERY_MODE_T', desc: <>delivery mode.</> },
  ]}
/>

##Function Declaration
### RHAL_DELIVERY_CloseChannel
```bash
DTV_STATUS_T RHAL_DELIVERY_CloseChannel(DELIVERY_CHANNEL_T ch);
```
Close TS or TLV stream channel, (Note:TCL use 0 and 2) 

##Function Declaration
### RHAL_DELIVERY_SetInputConfig
```bash
DTV_STATUS_T RHAL_DELIVERY_SetInputConfig(DELIVERY_CHANNEL_T ch, DELIVERY_INPUT_PORT_T portType, DELIVERY_INPUT_TYPE_T inputType, DELIVERY_SRC_TYPE_T srcType);
```
Set input param of TS or TLV stream channel, (Note:TCL use 0 and 2) 
<ParamTable
  items={[
    { name: 'ch', type: 'DELIVERY_CHANNEL_T', desc: '0 -> DELIVERY_CH_A  1 -> DELIVERY_CH_B 2 -> DELIVERY_CH_C' },
    { name: 'portType', type: 'DELIVERY_INPUT_PORT_T', desc: 'Input From Internal Demodulator or External Demodulator' },
    { name: 'inputType', type: 'DELIVERY_INPUT_TYPE_T', desc: 'input is serial or parallel or others' },
    { name: 'DELIVERY_SRC_TYPE_T', type: 'srcType', desc: 'HW engine or raw mode' },
  ]}
/>

##Function Declaration
### RHAL_DELIVERY_GetInputConfig
```bash
DTV_STATUS_T RHAL_DELIVERY_GetInputConfig(DELIVERY_CHANNEL_T ch, DELIVERY_INPUT_PORT_T*pPortType, DELIVERY_INPUT_TYPE_T*pInputType, DELIVERY_SRC_TYPE_T*srcType);
```
Get input param of TS or TLV stream channel, (Note:TCL use 0 and 2) 

##Function Declaration
### RHAL_DELIVERY_RequestData
```bash
DTV_STATUS_T RHAL_DELIVERY_RequestData(DELIVERY_CHANNEL_T ch);
```
Config for read data of TS or TLV stream , (Note:TCL use 0 and 2)

##Function Declaration
### RHAL_DELIVERY_CancelData
```bash
DTV_STATUS_T RHAL_DELIVERY_CancelData(DELIVERY_CHANNEL_T ch);
```
Unconfig for read TLV data, (Note:TCL use 0 and 2) 

##Function Declaration
### RHAL_DELIVERY_Read
```bash
SINT32 RHAL_DELIVERY_Read(DELIVERY_CHANNEL_T ch, UINT8*buffer, UINT32 buf_size);
```
Read TLV data, (Note:TCL use 0 and 2) 
<ParamTable
  items={[
    { name: 'ch', type: 'DELIVERY_CHANNEL_T', desc: '0 -> DELIVERY_CH_A  1 -> DELIVERY_CH_B 2 -> DELIVERY_CH_C' },
    { name: 'buffer', type: 'UINT8*', desc: 'buffer' },
    { name: 'buf_size', type: 'UINT32', desc: 'buffer size' },
  ]}
/>

##Function Declaration
### RHAL_DELIVERY_AddTLVFilter
```bash
DTV_STATUS_T RHAL_DELIVERY_AddTLVFilter(DELIVERY_CHANNEL_T ch, UINT32 cnt, DELIVERY_FILTER_T*pfilter_info);
```
Set TLV packet filter, (Note:TCL use 0 and 2) 
<ParamTable
  items={[
    { name: 'ch', type: 'DELIVERY_CHANNEL_T', desc: '0 -> DELIVERY_CH_A  1 -> DELIVERY_CH_B 2 -> DELIVERY_CH_C' },
    { name: 'cnt', type: 'UINT32', desc: 'number of filter info' },
    { name: 'pfilter_info', type: 'DELIVERY_FILTER_T*', desc: 'filter info list' },
  ]}
/>

##Function Declaration
### RHAL_DELIVERY_RemoveTLVFilter
```bash
DTV_STATUS_T RHAL_DELIVERY_RemoveTLVFilter(DELIVERY_CHANNEL_T ch, UINT32 cnt, DELIVERY_FILTER_T*pfilter_info);
```

##Function Declaration
### RHAL_DELIVERY_EnableTLVFilter
```bash
DTV_STATUS_T RHAL_DELIVERY_EnableTLVFilter(DELIVERY_CHANNEL_T ch, UINT8 enable);
```

##Function Declaration
### RHAL_DELIVERY_GetTLVNTP
```bash
DTV_STATUS_T RHAL_DELIVERY_GetTLVNTP(DELIVERY_CHANNEL_T ch, UINT32*ntp_high, UINT32*ntp_low);
```

##Function Declaration
### RHAL_DELIVERY_SetPIDFilters
```bash
DTV_STATUS_T RHAL_DELIVERY_SetPIDFilters(DELIVERY_CHANNEL_T ch, UINT32 cnt, UINT16*pid_list);
```

##Function Declaration
### RHAL_DELIVERY_RemovePIDFilters
```bash
DTV_STATUS_T RHAL_DELIVERY_RemovePIDFilters(DELIVERY_CHANNEL_T ch, UINT32 cnt, UINT16*pid_list);
```

##Function Declaration
### RHAL_DELIVERY_EnablePIDFilter
```bash
DTV_STATUS_T RHAL_DELIVERY_EnablePIDFilter(DELIVERY_CHANNEL_T ch, UINT8 en);
```

##Function Declaration
### RHAL_DELIVERY_DescramblerInit
```bash
DTV_STATUS_T RHAL_DELIVERY_DescramblerInit(DELIVERY_CHANNEL_T ch, DELIVERY_DESC_TYPE_T algo);
```

##Function Declaration
### RHAL_DELIVERY_DescramblerEnable
```bash
DTV_STATUS_T RHAL_DELIVERY_DescramblerEnable(DELIVERY_CHANNEL_T ch, UINT8 enable);
```

##Function Declaration
### RHAL_DELIVERY_DescramblerSetKey
```bash
DTV_STATUS_T RHAL_DELIVERY_DescramblerSetKey(DELIVERY_CHANNEL_T ch, DELIVERY_DESC_KEY_T key_type, UINT8*p_key, UINT32 key_size);
```

##Function Declaration
### RHAL_DELIVERY_CancelFilter
```bash
DTV_STATUS_T RHAL_DELIVERY_CancelFilter(DELIVERY_CHANNEL_T ch, UINT32 filterIndex);
```

##Function Declaration
### RHAL_DELIVERY_GetFilterMessage
```bash
DTV_STATUS_T RHAL_DELIVERY_GetFilterMessage(DELIVERY_FILTER_MSG_T*pMsg,UINT32 maxCount, UINT32*pReadCount, UINT32 timeout);
```

##Function Declaration
### RHAL_DELIVERY_GetFilterStatus
```bash
DTV_STATUS_T RHAL_DELIVERY_GetFilterStatus(DELIVERY_CHANNEL_T ch, UINT32 filterIndex, DELIVERY_FILTER_STATUS_T*pStatus);
```

##Function Declaration
### RHAL_DELIVERY_CopyFilterData
```bash
DTV_STATUS_T RHAL_DELIVERY_CopyFilterData(DELIVERY_CHANNEL_T ch, UINT32 filterIndex, UINT8*pDest, UINT8*pBufAddr, UINT32 dataSize);
```

##Function Declaration
### RHAL_DELIVERY_ReturnFilterData
```bash
DTV_STATUS_T RHAL_DELIVERY_ReturnFilterData(DELIVERY_CHANNEL_T ch, UINT32 filterIndex, UINT8*pBufAddr, UINT32 dataSize);
```

##Function Declaration
### HAL_DELIVERY_ResetFilters
```bash
DTV_STATUS_T HAL_DELIVERY_ResetFilters(DELIVERY_CHANNEL_T ch, DELIVERY_FILTER_CLEAN_SCOPE_T scope);
```

##Function Declaration
### RHAL_DELIVERY_StartClockRecovery
```bash
DTV_STATUS_T RHAL_DELIVERY_StartClockRecovery(DELIVERY_CHANNEL_T ch);
```

##Function Declaration
### RHAL_DELIVERY_StopClockRecovery
```bash
DTV_STATUS_T RHAL_DELIVERY_StopClockRecovery(DELIVERY_CHANNEL_T ch);
```

##Function Declaration
### RHAL_DELIVERY_GetCurrentTime
```bash
DTV_STATUS_T RHAL_DELIVERY_GetCurrentTime(DELIVERY_CHANNEL_T ch, DELIVERY_TIME_T*time);
```

##Function Declaration
### RHAL_DELIVERY_SetSystemTimeInfo
```bash
DTV_STATUS_T RHAL_DELIVERY_SetSystemTimeInfo(DELIVERY_CHANNEL_T ch, DELIVERY_SYSTEM_TIME_INFO_T*info);
```

##Function Declaration
### RHAL_DELIVERY_SetCurrentTime
```bash
DTV_STATUS_T RHAL_DELIVERY_SetCurrentTime(DELIVERY_CHANNEL_T ch, DELIVERY_TIME_T*time);
```

##Function Declaration
### RHAL_DELIVERY_RequestBBFrame
```bash
DTV_STATUS_T RHAL_DELIVERY_RequestBBFrame(DELIVERY_CHANNEL_T ch);
```

##Function Declaration
### RHAL_DELIVERY_GetBBFrameBuffer
```bash
DTV_STATUS_T RHAL_DELIVERY_GetBBFrameBuffer(DELIVERY_CHANNEL_T ch, DELIVERY_BB_FRAME_T**frame, UINT32*count, UINT32 timeout);
```

##Function Declaration
### RHAL_DELIVERY_ReturnBBFrameBuffer
```bash
DTV_STATUS_T RHAL_DELIVERY_ReturnBBFrameBuffer(DELIVERY_CHANNEL_T ch, DELIVERY_BB_FRAME_T*frame);
```

##Function Declaration
### RHAL_DELIVERY_ResetBBFrame
```bash
DTV_STATUS_T RHAL_DELIVERY_ResetBBFrame(DELIVERY_CHANNEL_T ch);
```

##Function Declaration
### RHAL_DELIVERY_CancelBBFrame
```bash
DTV_STATUS_T RHAL_DELIVERY_CancelBBFrame(DELIVERY_CHANNEL_T ch);
```

##Function Declaration
### RHAL_DELIVERY_GetAlpBuffer
```bash
DTV_STATUS_T RHAL_DELIVERY_GetAlpBuffer(DELIVERY_CHANNEL_T ch, UINT8*alp_data, UINT32*alp_size);
```

##Function Declaration
### RHAL_DELIVERY_DebugCommand
```bash
DTV_STATUS_T RHAL_DELIVERY_DebugCommand(const char*pszCmd,const char*pszParam,char**buffer);
```
NOT implemented!
