---
sidebar_position: 35
---

# RHAL_IR

RHAL_IR api

## Constants, macros, and type definitions

```bash
#define IR_DEV_NAME                     "venus_IR_input"
#define DEV_NAME_LEN_MIN            64

#define FOR_EACH_IR_PROTOCOL(PROTOCOL) \
    PROTOCOL(IR_PROTOCOL_NEC),       \
    PROTOCOL(IR_PROTOCOL_RC5),       \
    PROTOCOL(IR_PROTOCOL_SHARP),     \
    PROTOCOL(IR_PROTOCOL_SONY),      \
    PROTOCOL(IR_PROTOCOL_C03),       \
    PROTOCOL(IR_PROTOCOL_RC6),       \
    PROTOCOL(IR_PROTOCOL_RAW_NEC),   \
    PROTOCOL(IR_PROTOCOL_RCA),       \
    PROTOCOL(IR_PROTOCOL_PANASONIC), \
    PROTOCOL(IR_PROTOCOL_KONKA),     \
    PROTOCOL(IR_PROTOCOL_RAW_RC6),   \
    PROTOCOL(IR_PROTOCOL_TSB),       \
    PROTOCOL(IR_PROTOCOL_RAW_TSB),   \
    PROTOCOL(IR_PROTOCOL_RAW_RCA),   \
    PROTOCOL(IR_PROTOCOL_RAW_C03),   \
    PROTOCOL(IR_PROTOCOL_RAW_KONKA), \
    PROTOCOL(IR_PROTOCOL_RAW_SONY),  \
    PROTOCOL(IR_PROTOCOL_AEHA),      \
```

## Enums and struct definitions

### HAL_IRDA_DECODE_ON/HAL_IRDA_DECODE_OFF
```bash
enum {
    HAL_IRDA_DECODE_ON = 0,
    HAL_IRDA_DECODE_OFF = 1,
};
```

### EIR_PROTOCOL
```bash
typedef enum _e_ir_protocol{
    IR_PROTOCOL_NONE = 0,
    FOR_EACH_IR_PROTOCOL(GENERATE_ENUM)
    IR_PROTOCOL_MAX,
} EIR_PROTOCOL;
#define GENERATE_ENUM(ENUM)         ENUM
```

### g_ir_protocol_str
```bash
static const char *g_ir_protocol_str[] = {
        "IR_PROTOCOL_NONE",
        FOR_EACH_IR_PROTOCOL(GENERATE_STRING)
        "IR_PROTOCOL_MAX",
};
#define GENERATE_STRING(STRING)     #STRING
```

### EIR_KEY_VALUE
```bash
typedef enum _e_ir_key_value {
    IR_KEY_VALUE_UP  = 0,
    IR_KEY_VALUE_DOWN ,
    IR_KEY_VALUE_REPEAT,
    IR_KEY_VALUE_MAX,
} EIR_KEY_VALUE;
```

### HAL_KEYCODE_INTERCEPT_FLAGS
```bash
typedef enum {
    HAL_KEYCODE_INTERCEPT_DISABLE_IRDA_DECODE = 0x00000001,
    HAL_KEYCODE_INTERCEPT_CALLBACK_ONE_TIME = 0x00010000,
    HAL_KEYCODE_INTERCEPT_CALLBACK_ALWAYS = 0x00020000,
}HAL_KEYCODE_INTERCEPT_FLAGS;
```

### HAL_KEYCODE_INTERCEPT_ACTION
```bash
typedef enum {
    HAL_KEYCODE_INTERCEPT_DO_NONETHING = 0,
    HAL_KEYCODE_INTERCEPT_REGEN_KEYCODE,
}HAL_KEYCODE_INTERCEPT_ACTION;
```

## Function declarations and inline functions

### RHAL_IR_SET_PROTOCOL
```bash
DTV_STATUS_T RHAL_IR_SET_PROTOCOL(UINT32 protocol);
```
Set IR protocol
<ParamTable
  items={[
    { name: 'protocol', type: 'UINT32', desc: 'IR protocol' },
  ]}
/>


### RHAL_IR_GET_PROTOCOL
```bash
DTV_STATUS_T RHAL_IR_GET_PROTOCOL(UINT32*protocol);
```
Return IR protocol
<ParamTable
  items={[
    { name: 'protocol', type: 'UINT32*', desc: 'IR protocol' },
  ]}
/>


### RHAL_IR_SET_RELEASE_EVENT_INTERVAL
```bash
DTV_STATUS_T RHAL_IR_SET_RELEASE_EVENT_INTERVAL(UINT32 interval);
```
Set release event interval(ms)
<ParamTable
  items={[
    { name: 'interval', type: 'UINT32', desc: 'release event interval(ms)' },
  ]}
/>


### RHAL_IR_GET_RELEASE_EVENT_INTERVAL
```bash
DTV_STATUS_T RHAL_IR_GET_RELEASE_EVENT_INTERVAL(UINT32*interval);
```
Get release event interval(ms)
<ParamTable
  items={[
    { name: 'interval', type: 'UINT32', desc: 'release event interval(ms)' },
  ]}
/>


### RHAL_IR_SET_REPEAT_EVNET_EN
```bash
DTV_STATUS_T RHAL_IR_SET_REPEAT_EVNET_EN(UINT32 onoff);
```
Set pepeat event on/off
<ParamTable
  items={[
    { name: 'onoff', type: 'UINT32', desc: 'Enable/disable repeating events' },
  ]}
/>


### RHAL_IR_SET_RAWKEY_EVNET_EN
```bash
DTV_STATUS_T RHAL_IR_SET_RAWKEY_EVNET_EN(UINT32 onoff);
```
Set rawkey event on/off
<ParamTable
  items={[
    { name: 'onoff', type: 'UINT32', desc: 'Enable/disable rawkey events' },
  ]}
/>


### RHAL_IR_SET_MOUSE_EVNET_EN
```bash
DTV_STATUS_T RHAL_IR_SET_MOUSE_EVNET_EN(UINT32 onoff);
```
Set mouse event on/off
<ParamTable
  items={[
    { name: 'onoff', type: 'UINT32', desc: 'Enable/disable mouse events' },
  ]}
/>


### RHAL_IR_GET_MOUSE_EVNET_EN
```bash
DTV_STATUS_T RHAL_IR_GET_MOUSE_EVNET_EN(UINT32*onoff);
```
Get mouse event on/off


### RHAL_IR_SET_MOUSE_SPEED
```bash
DTV_STATUS_T RHAL_IR_SET_MOUSE_SPEED(UINT32 pixel);
```
Set mouse speed
<ParamTable
  items={[
    { name: 'pixel', type: 'UINT32', desc: 'mouse speed' },
  ]}
/>


### RHAL_IR_GET_MOUSE_SPEED
```bash
DTV_STATUS_T RHAL_IR_GET_MOUSE_SPEED(UINT32*pixel);
```
Get mouse speed


### RHAL_IR_SET_DECODE_KEY_EN
```bash
DTV_STATUS_T RHAL_IR_SET_DECODE_KEY_EN(UINT32 onoff);
```
Set decode key on/off
<ParamTable
  items={[
    { name: 'onoff', type: 'UINT32', desc: 'Enable/disable decode key' },
  ]}
/>


### RHAL_Enter_IrWBAdj
```bash
DTV_STATUS_T RHAL_Enter_IrWBAdj(void);
```
Enter user Raw Mode


### RHAL_Exit_IrWBAdj
```bash
DTV_STATUS_T RHAL_Exit_IrWBAdj(void);
```
Exit user Raw Mode


### RHAL_Read_IrWBAdj
```bash
DTV_STATUS_T RHAL_Read_IrWBAdj(UINT32*irCmdBuff);
```
Read IR user Raw mode data


### RHAL_IR_GENERATE_KEYEVENT
```bash
DTV_STATUS_T RHAL_IR_GENERATE_KEYEVENT(UINT32 keycode);
```
Generate keyevent 
<ParamTable
  items={[
    { name: 'keycode', type: 'UINT32', desc: 'ir gen keycode' },
  ]}
/>


### RHAL_IR_REGISTER_KEYCODE_INTERCEPT_CALLBACK
```bash
DTV_STATUS_T RHAL_IR_REGISTER_KEYCODE_INTERCEPT_CALLBACK(UINT32 keycode, UINT32 (*keycode_intercept_callback)(UINT32 keycode, void*data), void*data, UINT32 flags);
```
Register keycode intercept callback function
<ParamTable
  items={[
    { name: 'keycode', type: 'UINT32', desc: 'ir gen keycode' },
    { name: 'keycode_intercept_callback', type: 'UINT32 ()(UINT32 keycode, void* data)', desc: 'keycode intercept callback function' },
    { name: 'data', type: 'void*', desc: 'keycode data' },
    { name: 'flags', type: 'UINT32', desc: 'HAL_KEYCODE_INTERCEPT_FLAGS' },
  ]}
/>

### RHAL_IR_UNREGISTER_KEYCODE_INTERCEPT_CALLBACK
```bash
DTV_STATUS_T RHAL_IR_UNREGISTER_KEYCODE_INTERCEPT_CALLBACK(UINT32 keycode);
```
Unregister keycode intercept callback function
